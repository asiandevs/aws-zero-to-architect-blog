<!-- _includes/module-navigation.html -->
{% comment %} Auto-find previous/next post by date order {% endcomment %}

{% assign sorted_posts = site.posts | sort: 'date' %}
{% assign prev_post = null %}
{% assign next_post = null %}

{% for post in sorted_posts %}
  {% if post.date == page.date %}
    {% assign current_index = forloop.index0 %}
    {% if forloop.index0 > 0 %}
      {% assign prev_post = sorted_posts[forloop.index0 - 1] %}
    {% endif %}
    {% if forloop.length > forloop.index0 + 1 %}
      {% assign next_post = sorted_posts[forloop.index0 + 1] %}
    {% endif %}
  {% endif %}
{% endfor %}

{% if prev_post or next_post %}
<nav class="module-nav" style="margin: 60px 0 40px; padding: 20px; background: #f8f9fa; border-radius: 12px; text-align: center; font-size: 1.1em; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
  <div style="display: flex; justify-content: space-between; flex-wrap: wrap; gap: 15px; align-items: center;">
    
    <!-- Previous -->
    {% if prev_post %}
      <a href="{{ prev_post.url | relative_url }}" style="color: #2563eb; font-weight: 600; text-decoration: none; display: flex; align-items: center; gap: 6px;">
        ← Previous: <span style="font-weight: 500;">{{ prev_post.title | truncate: 45 }}</span>
      </a>
    {% else %}
      <span style="color: #94a3b8;">← No Previous</span>
    {% endif %}

    <!-- Next -->
    {% if next_post %}
      <a href="{{ next_post.url | relative_url }}" style="color: #16a34a; font-weight: 600; text-decoration: none; display: flex; align-items: center; gap: 6px;">
        Next: <span style="font-weight: 500;">{{ next_post.title | truncate: 45 }}</span> →
      </a>
    {% else %}
      <span style="color: #94a3b8;">No Next →</span>
    {% endif %}

  </div>
</nav>
{% endif %}
